{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>üì∫ –ê—Ä—Ö–∏–≤ —Å—Ç—Ä–∏–º–æ–≤ –∫–∞–Ω–∞–ª–∞ {{ stats.channel }}</h1>
    
    <div class="stats-container">
        <div class="stat-card">
            <h3>üìπ –í—Å–µ–≥–æ –≤–∏–¥–µ–æ</h3>
            <p class="stat-value">{{ stats.total_videos }}</p>
        </div>
        <div class="stat-card">
            <h3>üí¨ –°–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ</h3>
            <p class="stat-value">{{ stats.total_messages }}</p>
        </div>
    </div>
    
    <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç—Ä–∏–º—ã</h2>
    
    <div class="streams-grid">
        {% for stream in streams %}
        <a href="/stream/{{ stream.id }}" class="stream-card">
            <div class="stream-thumbnail">
                {% if stream.thumbnail_url %}
                    <img src="{{ stream.thumbnail_url }}" alt="{{ stream.title }}">
                {% else %}
                    <div class="no-thumbnail">üì∫</div>
                {% endif %}
            </div>
            <div class="stream-info">
                <h3>{{ stream.title }}</h3>
                <p class="date">üìÖ {{ stream.stream_date.strftime('%d.%m.%Y %H:%M') }}</p>
                <p class="meta">
                    ‚è±Ô∏è {{ stream.duration_formatted }} | üí¨ {{ stream.chat_message_count }} —Å–æ–æ–±—â–µ–Ω–∏–π
                </p>
            </div>
        </a>
        {% endfor %}
    </div>
    
    <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
    <div class="pagination">
        {% if current_page > 1 %}
            <a href="/?page=1">‚Üê –ü–µ—Ä–≤–∞—è</a>
            <a href="/?page={{ current_page - 1 }}">‚Üê –ù–∞–∑–∞–¥</a>
        {% endif %}
        
        <span>–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ current_page }} –∏–∑ {{ total_pages }}</span>
        
        {% if current_page < total_pages %}
            <a href="/?page={{ current_page + 1 }}">–í–ø–µ—Ä—ë–¥ ‚Üí</a>
            <a href="/?page={{ total_pages }}">–ü–æ—Å–ª–µ–¥–Ω—è—è ‚Üí</a>
        {% endif %}
    </div>
</div>
{% endblock %}
